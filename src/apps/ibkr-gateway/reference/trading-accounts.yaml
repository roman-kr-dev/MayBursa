section: Trading Accounts
description: 'The IB REST API reference documentation - Section: Trading Accounts'
baseUrl: https://localhost:5001
note: All paths include /v1/api prefix (except /gw/* and /oauth2/* endpoints)
endpoints:
  - path: /v1/api/acesws/{accountId}/signatures-and-owners
    method: GET
    summary: Signatures And Owners
    description: Receive a list of all applicant names on the account and for which account and entity is represented.
    parameters:
      - name: accountId
        in: path
        required: true
        type: string
    responses:
      '200':
        description: >-
          An object containing valid accounts and the account properties regarding trading access. This endpoint is also
          used to confirm account validation.
        example:
          accountId: U1234567
          users:
            - roleId: OWNER
              hasRightCodeInd: true
              entity:
                entityType: INDIVIDUAL
                entityName: John Smith
                firstName: John
                lastName: Smith
          applicant:
            signatures:
              - John Smith
        schema: signatureAndOwners
        structure:
          accountId: string
          users:
            - user
          applicant:
            signatures:
              - ...
  - path: /v1/api/iserver/account
    method: POST
    summary: Switch Account
    description: >-
      Switch the active account for how you request data. Only available for financial advisors and multi-account
      structures.
    requestBody:
      required: true
      contentType: application/json
    responses:
      '200':
        description: Validates the account swapped to.
        example:
          set: true
          acctId: U2234567
        schema: setAccountResponse
        structure:
          set: boolean
          acctId: string
  - path: /v1/api/iserver/account/{accountId}/summary
    method: GET
    summary: General Account Summary
    description: Provides a general overview of the account details such as balance values.
    parameters:
      - name: accountId
        in: path
        required: true
        type: string
    responses:
      '200':
        description: Provides a general overview of the account details such as balance values.
        example:
          accountType: ''
          status: ''
          balance: 825903
          SMA: 368538
          buyingPower: 3307124
          availableFunds: 825903
          excessLiquidity: 826781
          netLiquidationValue: 1290490
          equityWithLoanValue: 1281714
          regTLoan: 0
          securitiesGVP: 1793178
          totalCashValue: -401846
          accruedInterest: 0
          regTMargin: 0
          initialMargin: 464586
          maintenanceMargin: 463709
          cashBalances:
            - currency: EUR
              balance: 194
              settledCash: 194
            - currency: HKD
              balance: 0
              settledCash: 0
            - currency: JPY
              balance: 14781
              settledCash: 14781
            - currency: USD
              balance: -402158
              settledCash: -402158
            - currency: Total (in USD)
              balance: -401846
              settledCash: -401846
        schema: accountSummaryResponse
        structure:
          accountType: string
          status: string
          balance: integer
          SMA: integer
          buyingPower: integer
          availableFunds: integer
          excessLiquidity: integer
          netLiquidationValue: integer
          equityWithLoanValue: integer
          regTLoan: integer
          securitiesGVP: integer
          totalCashValue: integer
          accruedInterest: integer
          regTMargin: integer
          initialMargin: integer
          maintenanceMargin: integer
          cashBalances:
            - currency: string
              balance: integer
              settledCash: integer
  - path: /v1/api/iserver/account/{accountId}/summary/available_funds
    method: GET
    summary: Summary Of Available Funds
    description: Provides a summary specific for avilable funds giving more depth than the standard /summary endpoint.
    parameters:
      - name: accountId
        in: path
        required: true
        type: string
    responses:
      '200':
        description: Indicates a successful return of available funds.
        example:
          total:
            current_available: 825,208 USD
            current_excess: 826,089 USD
            Prdctd Pst-xpry Excss: 0 USD
            SMA: 368,538 USD
            Lk Ahd Avlbl Fnds: 821,067 USD
            Lk Ahd Excss Lqdty: 822,324 USD
            overnight_available: 821,067 USD
            overnight_excess: 822,324 USD
            buying_power: 3,304,346 USD
            leverage: n/a
            Lk Ahd Nxt Chng: '@ 16:00:00'
            day_trades_left: Unlimited
          Crypto at Paxos:
            current_available: 0 USD
            current_excess: 0 USD
            Prdctd Pst-xpry Excss: 0 USD
            Lk Ahd Avlbl Fnds: 0 USD
            Lk Ahd Excss Lqdty: 0 USD
            overnight_available: 0 USD
            overnight_excess: 0 USD
          commodities:
            current_available: 22,483 USD
            current_excess: 23,361 USD
            Prdctd Pst-xpry Excss: 0 USD
            Lk Ahd Avlbl Fnds: 18,342 USD
            Lk Ahd Excss Lqdty: 19,597 USD
            overnight_available: 18,342 USD
            overnight_excess: 19,597 USD
          securities:
            current_available: 802,725 USD
            current_excess: 802,727 USD
            Prdctd Pst-xpry Excss: 0 USD
            SMA: 368,538 USD
            Lk Ahd Avlbl Fnds: 802,725 USD
            Lk Ahd Excss Lqdty: 802,727 USD
            overnight_available: 802,725 USD
            overnight_excess: 802,727 USD
            leverage: '1.43'
        schema: availableFundsResponse
        structure:
          total:
            current_available: string
            current_excess: string
            Prdctd Pst-xpry Excss: string
            Lk Ahd Avlbl Fnds: string
            Lk Ahd Excss Lqdty: string
            overnight_available: string
            overnight_excess: string
            buying_power: string
            leverage: string
            Lk Ahd Nxt Chng: string
            day_trades_left: string
          Crypto at Paxos: funds
          commodities: funds
          securities:
            current_available: string
            current_excess: string
            Prdctd Pst-xpry Excss: string
            SMA: string
            Lk Ahd Avlbl Fnds: string
            Lk Ahd Excss Lqdty: string
            overnight_available: string
            overnight_excess: string
            leverage: string
  - path: /v1/api/iserver/account/{accountId}/summary/balances
    method: GET
    summary: Summary Of Account Balances
    parameters:
      - name: accountId
        in: path
        required: true
        type: string
    responses:
      '200':
        description: Indicates a successful return of available funds.
        example:
          total:
            net_liquidation: 1,288,301 USD
            Nt Lqdtn Uncrtnty: 0 USD
            equity_with_loan: 1,279,520 USD
            Prvs Dy Eqty Wth Ln Vl: 1,275,902 USD
            Rg T Eqty Wth Ln Vl: 1,256,229 USD
            sec_gross_pos_val: 1,791,096 USD
            cash: '-401,693 USD'
            MTD Interest: '-549 USD'
            Pndng Dbt Crd Chrgs: 0 USD
          Crypto at Paxos:
            net_liquidation: 0 USD
            equity_with_loan: 0 USD
            cash: 0 USD
            MTD Interest: 0 USD
            Pndng Dbt Crd Chrgs: 0 USD
          commodities:
            net_liquidation: 32,072 USD
            equity_with_loan: 23,291 USD
            cash: 32,072 USD
            MTD Interest: 0 USD
            Pndng Dbt Crd Chrgs: 0 USD
          securities:
            net_liquidation: 1,256,229 USD
            equity_with_loan: 1,256,229 USD
            Prvs Dy Eqty Wth Ln Vl: 1,275,902 USD
            Rg T Eqty Wth Ln Vl: 1,256,229 USD
            sec_gross_pos_val: 1,791,096 USD
            cash: '-433,765 USD'
            MTD Interest: '-549 USD'
            Pndng Dbt Crd Chrgs: 0 USD
        schema: summaryOfAccountBalancesResponse
        structure:
          total:
            net_liquidation: string
            Nt Lqdtn Uncrtnty: string
            equity_with_loan: string
            Prvs Dy Eqty Wth Ln Vl: string
            sec_gross_pos_val: string
            cash: string
            MTD Interest: string
            Pndng Dbt Crd Chrgs: string
          commodities:
            net_liquidation: string
            equity_with_loan: string
            cash: string
            MTD Interest: string
            Pndng Dbt Crd Chrgs: string
          securities:
            net_liquidation: string
            equity_with_loan: string
            Prvs Dy Eqty Wth Ln Vl: string
            sec_gross_pos_val: string
            cash: string
            MTD Interest: string
            Pndng Dbt Crd Chrgs: string
  - path: /v1/api/iserver/account/{accountId}/summary/margins
    method: GET
    summary: Summary Of Account Margin
    parameters:
      - name: accountId
        in: path
        required: true
        type: string
    responses:
      '200':
        description: Indicates a success request to receive margin balance values.
        example:
          total:
            RegT Margin: 896,255 USD
            current_initial: 468,562 USD
            Prdctd Pst-xpry Mrgn @ Opn: 0 USD
            current_maint: 467,308 USD
            projected_liquidity_inital_margin: 468,562 USD
            Prjctd Lk Ahd Mntnnc Mrgn: 467,308 USD
            projected_overnight_initial_margin: 468,562 USD
            Prjctd Ovrnght Mntnnc Mrgn: 467,308 USD
          Crypto at Paxos:
            current_initial: 0 USD
            Prdctd Pst-xpry Mrgn @ Opn: 0 USD
            current_maint: 0 USD
            projected_liquidity_inital_margin: 0 USD
            Prjctd Lk Ahd Mntnnc Mrgn: 0 USD
            projected_overnight_initial_margin: 0 USD
            Prjctd Ovrnght Mntnnc Mrgn: 0 USD
          commodities:
            current_initial: 13,794 USD
            Prdctd Pst-xpry Mrgn @ Opn: 0 USD
            current_maint: 12,540 USD
            projected_liquidity_inital_margin: 13,794 USD
            Prjctd Lk Ahd Mntnnc Mrgn: 12,540 USD
            projected_overnight_initial_margin: 13,794 USD
            Prjctd Ovrnght Mntnnc Mrgn: 12,540 USD
          securities:
            RegT Margin: 896,255 USD
            current_initial: 454,768 USD
            Prdctd Pst-xpry Mrgn @ Opn: 0 USD
            current_maint: 454,768 USD
            projected_liquidity_inital_margin: 454,768 USD
            Prjctd Lk Ahd Mntnnc Mrgn: 454,768 USD
            projected_overnight_initial_margin: 454,768 USD
            Prjctd Ovrnght Mntnnc Mrgn: 454,768 USD
        schema: summaryOfAccountMarginResponse
        structure:
          total:
            current_initial: string
            Prdctd Pst-xpry Mrgn @ Opn: string
            current_maint: string
            projected_liquidity_inital_margin: string
            Prjctd Lk Ahd Mntnnc Mrgn: string
            projected_overnight_initial_margin: string
            Prjctd Ovrnght Mntnnc Mrgn: string
          commodities:
            current_initial: string
            Prdctd Pst-xpry Mrgn @ Opn: string
            current_maint: string
            projected_liquidity_inital_margin: string
            Prjctd Lk Ahd Mntnnc Mrgn: string
            projected_overnight_initial_margin: string
            Prjctd Ovrnght Mntnnc Mrgn: string
          securities:
            current_initial: string
            Prdctd Pst-xpry Mrgn @ Opn: string
            current_maint: string
            projected_liquidity_inital_margin: string
            Prjctd Lk Ahd Mntnnc Mrgn: string
            projected_overnight_initial_margin: string
            Prjctd Ovrnght Mntnnc Mrgn: string
  - path: /v1/api/iserver/account/{accountId}/summary/market_value
    method: GET
    summary: Summary Of Account's Market Value
    parameters:
      - name: accountId
        in: path
        required: true
        type: string
    responses:
      '200':
        description: Indicates a successful market value request.
        example:
          EUR:
            total_cash: '194'
            settled_cash: '194'
            MTD Interest: '0'
            stock: '0'
            options: '0'
            futures: '0'
            future_options: '0'
            funds: '0'
            dividends_receivable: '0'
            mutual_funds: '0'
            money_market: '0'
            bonds: '0'
            Govt Bonds: '0'
            t_bills: '0'
            warrants: '0'
            issuer_option: '0'
            commodity: '0'
            Notional CFD: '0'
            cfd: '0'
            Cryptocurrency: '0'
            net_liquidation: '194'
            unrealized_pnl: '0'
            realized_pnl: '0'
            Exchange Rate: '1.092525'
          HKD:
            total_cash: '0'
            settled_cash: '0'
            MTD Interest: '0'
            stock: 19,441
            options: '0'
            futures: '0'
            future_options: '0'
            funds: '0'
            dividends_receivable: '0'
            mutual_funds: '0'
            money_market: '0'
            bonds: '0'
            Govt Bonds: '0'
            t_bills: '0'
            warrants: '0'
            issuer_option: '0'
            commodity: '0'
            Notional CFD: '0'
            cfd: '0'
            Cryptocurrency: '0'
            net_liquidation: 19,441
            unrealized_pnl: 4,857
            realized_pnl: '0'
            Exchange Rate: '0.1278515'
          JPY:
            total_cash: 14,781
            settled_cash: 14,781
            MTD Interest: '0'
            stock: '0'
            options: '0'
            futures: '0'
            future_options: '0'
            funds: '0'
            dividends_receivable: '0'
            mutual_funds: '0'
            money_market: '0'
            bonds: '0'
            Govt Bonds: '0'
            t_bills: '0'
            warrants: '0'
            issuer_option: '0'
            commodity: '0'
            Notional CFD: '0'
            cfd: '0'
            Cryptocurrency: '0'
            net_liquidation: 14,781
            unrealized_pnl: '0'
            realized_pnl: '0'
            Exchange Rate: '0.0068052'
          USD:
            total_cash: '-401,958'
            settled_cash: '-401,958'
            MTD Interest: '-549'
            stock: 1,691,668
            options: '0'
            futures: '-212'
            future_options: '0'
            funds: '0'
            dividends_receivable: '0'
            mutual_funds: '0'
            money_market: '0'
            bonds: '0'
            Govt Bonds: '0'
            t_bills: '0'
            warrants: '0'
            issuer_option: '0'
            commodity: '0'
            Notional CFD: '0'
            cfd: '0'
            Cryptocurrency: '0'
            net_liquidation: 1,289,161
            unrealized_pnl: 253,275
            realized_pnl: '0'
            Exchange Rate: '1.00'
          Total (in USD):
            total_cash: '-401,646'
            settled_cash: '-401,646'
            MTD Interest: '-549'
            stock: 1,694,154
            options: '0'
            futures: '-212'
            future_options: '0'
            funds: '0'
            dividends_receivable: '0'
            mutual_funds: '0'
            money_market: '0'
            bonds: '0'
            Govt Bonds: '0'
            t_bills: '0'
            warrants: '0'
            issuer_option: '0'
            commodity: '0'
            Notional CFD: '0'
            cfd: '0'
            Cryptocurrency: '0'
            net_liquidation: 1,291,959
            unrealized_pnl: 253,896
            realized_pnl: '0'
            Exchange Rate: '1.00'
        schema: summaryMarketValueResponse
        structure:
          currency:
            total_cash: string
            settled_cash: string
            MTD Interest: string
            stock: string
            options: string
            futures: string
            future_options: string
            funds: string
            dividends_receivable: string
            mutual_funds: string
            money_market: string
            bonds: string
            Govt Bonds: string
            t_bills: string
            warrants: string
            issuer_option: string
            commodity: string
            Notional CFD: string
            cfd: string
            net_liquidation: string
            unrealized_pnl: string
            realized_pnl: string
            Exchange Rate: string
  - path: /v1/api/iserver/account/pnl/partitioned
    method: GET
    summary: Account Profit And Loss
    responses:
      '200':
        description: Refers to “updated PnL”. Holds a json object of key-value paired pnl details.
        example:
          upnl:
            U1234567.Core:
              rowType: 1
              dpl: -12510
              nl: 1290000
              upl: 256000
              el: 824600
              mv: 1700000
        schema: pnlPartitionedResponse
        structure:
          upnl:
            U1234567.Core:
              rowType: integer
              dpl: integer
              nl: integer
              upl: integer
              el: integer
              mv: integer
  - path: /v1/api/iserver/account/search/{searchPattern}
    method: GET
    summary: Search Dynamic Account
    description: >-
      Returns a list of accounts matching a query pattern set in the request. Broker accounts configured with the
      DYNACCT property will not receive account information at login. Instead, they must dynamical
    parameters:
      - name: searchPattern
        in: path
        required: true
        type: string
    responses:
      '200':
        description: Returns all accounts that match the searchPattern string.
        example:
          matchedAccounts:
            - accountId: U1234567
              alias: U1234567
              allocationId: U1234567
          pattern: U1
        schema: dynAccountSearchResponse
        structure:
          matchedAccounts:
            - accountId: string
              alias: string
              allocationId: string
          pattern: string
  - path: /v1/api/iserver/accounts
    method: GET
    summary: Receive Brokerage Accounts For The Current User.
    description: >-
      Returns a list of accounts the user has trading access to, their respective aliases and the currently selected
      account. Note this endpoint must be called before modifying an order or querying open ord
    responses:
      '200':
        description: >-
          An object containing valid accounts and the account properties regarding trading access. This endpoint is also
          used to confirm account validation.
        example:
          accounts:
            - All
            - U1234567
            - U2234567
            - U3234567
          acctProps:
            All:
              hasChildAccounts: false
              supportsCashQty: false
              supportsFractions: false
            U1234567:
              hasChildAccounts: false
              supportsCashQty: true
              supportsFractions: true
            U2234567:
              hasChildAccounts: false
              supportsCashQty: true
              supportsFractions: true
            U3234567:
              hasChildAccounts: false
              supportsCashQty: true
              supportsFractions: true
          aliases:
            All: All
            U1234567: U1234567
            U2234567: U2234567
            U3234567: U3234567
          allowFeatures:
            showGFIS: true
            showEUCostReport: false
            allowEventContract: true
            allowFXConv: true
            allowFinancialLens: true
            allowMTA: false
            allowTypeAhead: true
            allowEventTrading: true
            snapshotRefreshTimeout: 30
            liteUser: false
            showWebNews: true
            research: true
            debugPnl: true
            showTaxOpt: true
            showImpactDashboard: true
            allowDynAccount: false
            allowCrypto: false
            allowFA: false
            allowLiteUnderPro: false
            allowedAssetTypes: STK,CFD,OPT,FOP,WAR,FUT,BAG,PDC,CASH,IND,BOND,BILL,FUND,SLB,News,CMDTY,IOPT,ICU,ICS,PHYSS,CRYPTO
          chartPeriods:
            STK:
              - '*'
            CFD:
              - '*'
            OPT:
              - 2h
              - 1d
              - 2d
              - 1w
              - 1m
            FOP:
              - 2h
              - 1d
              - 2d
              - 1w
              - 1m
            WAR:
              - '*'
            IOPT:
              - '*'
            FUT:
              - '*'
            CASH:
              - '*'
            IND:
              - '*'
            BOND:
              - '*'
            FUND:
              - '*'
            CMDTY:
              - '*'
            PHYSS:
              - '*'
            CRYPTO:
              - '*'
          groups:
            - All
          profiles: []
          selectedAccount: U1234567
          serverInfo:
            serverName: server
            serverVersion: Build 99.99.9, May 22, 2020 4:19:22 PM
          sessionId: 65ee8a41.0000001e
          isFT: false
          isPaper: true
        schema: userAccountsResponse
        structure:
          accounts:
            - string
          acctProps:
            U1234567:
              hasChildAccounts: boolean
              supportsCashQty: boolean
              noFXConv: boolean
              isProp: boolean
              supportsFractions: boolean
              allowCustomerTime: boolean
          aliases:
            U1234567: string
          allowFeatures:
            showGFIS: boolean
            showEUCostReport: boolean
            allowEventContract: boolean
            allowFXConv: boolean
            allowFinancialLens: boolean
            allowMTA: boolean
            allowTypeAhead: boolean
            allowEventTrading: boolean
            snapshotRefreshTimeout: integer
            liteUser: boolean
            showWebNews: boolean
            research: boolean
            debugPnl: boolean
            showTaxOpt: boolean
            showImpactDashboard: boolean
            allowDynAccount: boolean
            allowCrypto: boolean
            allowedAssetTypes: string
          chartPeriods:
            STK:
              - ...
            CFD:
              - ...
            OPT:
              - ...
            FOP:
              - ...
            WAR:
              - ...
            IOPT:
              - ...
            FUT:
              - ...
            CASH:
              - ...
            IND:
              - ...
            BOND:
              - ...
            FUND:
              - ...
            CMDTY:
              - ...
            PHYSS:
              - ...
            CRYPTO:
              - ...
          groups:
            - string
          profiles:
            - string
          selectedAccount: string
          serverInfo:
            serverName: string
            serverVersion: string
          sessionId: string
          isFt: boolean
          isPaper: boolean
  - path: /v1/api/iserver/dynaccount
    method: POST
    summary: Set Dynamic Account
    requestBody:
      required: true
      contentType: application/json
    responses:
      '200':
        description: An array of objects detailing contract information.
        example:
          set: true
          acctId: U2234567
        schema: setAccountResponse
        structure:
          set: boolean
          acctId: string
